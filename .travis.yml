sudo: false
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- yarn add polymer-cli
- polymer install --variants
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: QWTu+h4OuriLIYCLeQjuvf3UPcLSF7YYE4eG+y5tJ6ZH+jsWRMlZafjojDsi2y6l5xrhW+aqsel7nUtr8vLg7DutCUvqcDG34QetIxzCHGRcflZWQxZaDTjygIeXQGCzCSm855jOMdPQUW8zJWlb69OfVc0l3DqTI8WkacIbF+wCMPal0xehBrbN4i0rWnxX29iYNN2PytCwMZQSdjXexMwToTHKkVa/BfDZ2xyJ2KFg9StNh2QKXNZihEWxPMGwblSrgpBLPcqrpz4vDvc2f2SlhQnBPz7SGdiMBRCsMPmV78M2vQxKCJrBZO7irG0C7I9TJbCiQsahr6CLsk0U6k+q9tFk6ksa8kjd647BrpGVNHJpbEckBco0MiFzsvrY2jsflDQTqYohVp/StcE6TLnT45M8N/mefwCLv6ScciyafbV7qQfzieJxPiP4sq2JZK1C432lhrk08Cm66WgDrw0aW1Ic2SPyazO19QTepe4UtAuh/SNsl77Xw8KllxVTz5EncwOmVEzLv7CQ6dVgJJ3YctIz2Oj024Gx7r/aFMvcTu7Kh3maeEDk7Wuab63RrrdLTnKV/sLLJEMBjfM/pUEKsLuwcfiH8JWGYDXXcm4/fEQwGIAGdqvAk5L9M1i623kNfZHLE/A0l7jPeuS//DQct4XNeyQ09IQk9Ityhp4=
  - secure: PK445/W9Xl/5UqvfTtHxqDP8XpxNNIqVt4+9nxGuvK1VfAB5D3BVuNT+muRVAu5lB99WrKzQjUTdUrCTEUZ5r91E/H0FzB3rkcRpuXma11KvnUZwd4qHJaXZ78oLq95508LSgsbOwDO23eJ15wPp36EfgsWN8vrBhGhVS1fj2vwJfJyUfc30EGxDooKNNmWnayb3N+7/UmSD+sZNAQ9I4PUinuhpgUeBgzCs5efdmdEIeWOgqaxaLKbOMEqEGo5pwnIDu/4nAzWZCz7X3M+vJv0ZidbqxePSAg0JEV/IQpQ4ZMKNOli8IUUA9a9En/0pD8adias049I7l/xFO92hxdDO7OXiSs9ZqRZyl3oRBC375GxC/kcJg3H3FHrxbbDqeUsRPNL2s3MbxVsg8T7vmqD+EiU37mgtuxfryQBoIRsKxALAhKUI+2XEpq/wFgIPz/t9ROe+102QsIYh45wVBm6h/bCaLAmhi2pmv2WEZjl+oYYIjbCr3R8OYl5x5quFAB4qgeKNDhhlVvYoE5aQHKc5P+cHsCxPOZ5+CQ4rQCTgdjo/fyy6PK1lpkxo8H51oYQT2VwgvkuNUoygl/mDOguTMA8YAXbn4TsvDyV1vEDkGYHe5CB9CZzpa93zB4YT5SLzNzl1tu1LgxyeMvNDxbKze9rWLPAdTiOSqKPnRBw=
  - secure: Fx/dJ97DR9tgC9OOQdLd6Yr0wqYLzj9C9SlQhjX0kfarnOzIlA3aw7myoTGL6wLaPJ9cD3HdFEOEMRPeogqr0YnJPbYwRCsfAKSpNC2w9Z/msdpfnBkTVSHeteOMOOBn72iOy/tGWZPxs99gUJ167LnV4CoGmYpkWMSFOQ1QThKuJlxbs+ORivEY0vkenADpIAAp110SHky9j9qcLBr/2sO0fqfZp1mkXx1DPkYenxQ/2ATRRKmmYAG0Q9fxSJEiHPpqdpqbbWqNKIVSOO/SejtIcfnwM7wNHOEgpv5z2j9d9yg26YMzWhkn05/slqx//teYcUIbXZCdNjPuum6DcJxL92iATopJVLZx9zDW5/uPbq7KUPlCGSA6cBD9JyviDVQQrbATRk7+dTvtY2DHAUBz34ByR/DxDW2N8WEHljw8+OhRFq7jvL7xY4fq79U67KmkzJsYm8JO0/sIb2otaB9P2w/d7nRAbhBQGpg08opQH7brWbeJPrIeD0HYRbZ0C4+ofafvzJ7MvKQkp0XVk5nDsznAUP2JbLQBo8QHSD9FXxTMXym6MoiiNDrOdqhTXtkkouq0m8DsJRG+KsbAGFmMMOnCoobV5ow6fbBMb2XsyHwtdXohgJqHGdtHgorjUzr9lQ8MkOquLKIzjTf5x0Xppmzz7pdmsMd4Vj8DdJA=
  - secure: VxbykPuxKuTm/RWKxNXSxo5XPCs9EmQ0hfOnVDotcrpzGIADebxissI2O6VmhGv7Soic3gAIBx6vzyMoyoMYYB/CIwOcc1SfCcvOK0mKm+BUJiQgBldJmIb9CoHde6Lz4LzLbuv4pQyLu0uiZmXM3ep8qlh6PCuK0KH9iVY0KGDD7kTDx6xWGBX+7votcAnRHuA86ZARNGWwc67qmIn7r2zOIjrSt5OV9jZW9qShbTDYXLmYqqInz5yzrfAPjD1j4y6Mk0r45TbZ4kb8q2QS/c5giuHRQWC95Ken6TZDfaoKsWFTmsU+mJB4gi8iEdeV7Jq9qPKHc/JqTrQ1z4LjD7nP21q7HGbse0yCmggiX7D/TtPu4cec+CXqqfFz4atwatajuiSVEuriSUmtomsOrHJPe59Q/HzOq5ftghjIv4WlJujY/LDxicAmXYcqTr1PPC0jgX/tziljcvlqks+BrGV/JgvzlLfnv6IfzEWQRWtsxjLyn0B9Eyn+rpNPP0r0561J8iphqvYrEWu3u9GSLDjCbaCh9RT8fxOeQsw0HbbHAZYMKywz041TtBSbocsbtL2z/Qz6nco1tTd2ZZGVfbCoUWMmlwOwTsuN5zayT2EzTD4dVax3Zwbt2255H2o6tbYo+iTXnvyllva5PVuluGOGaMMN6hKLqns7kUy6iGk=
